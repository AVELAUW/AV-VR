<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Quest 3 Touch Controllers and Interactive Cylinder</title>
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v6.1.0/dist/aframe-extras.min.js"></script>
  <script>
    AFRAME.registerComponent('x-button-listener', {
      init: function () {
        var el = this.el;
        el.addEventListener('xbuttondown', this.handleButtonPress.bind(this));
        el.addEventListener('ybuttondown', this.handleButtonPress.bing(this));
      },
      handleButtonPress: function () {
        var isHolding = this.el.getAttribute('isHolding');
        var cylinder = document.getElementById('grabableCylinder');
        if (isHolding) {
          cylinder.setAttribute('color', '#FFC107'); // Change back to original color
        } else {
          cylinder.setAttribute('color', 'red'); // Change to red when held
        }
        this.el.setAttribute('isHolding', !isHolding);
      }
    });
  </script>
</head>
<body>
  <a-scene>
    <a-sky color="#ECECEC"></a-sky>

  //touch controls
    <a-entity laser-controls="hand: left" position="0.05 0.1 -0.05"></a-entity>  
    
    <a-box  color = "black" scale = "2 2 2" position = "0 -3 0"> </a-box>
    
    <a-entity laser-controls="hand: right" position="-0.05 0.1 -0.05"></a-entity> 

    <a-cylinder id="grabableCylinder" position="1 0.5 -1" radius="0.2" color="#FFC107" grabbable></a-cylinder>
    
    
  </a-scene>
</body>
</html>
